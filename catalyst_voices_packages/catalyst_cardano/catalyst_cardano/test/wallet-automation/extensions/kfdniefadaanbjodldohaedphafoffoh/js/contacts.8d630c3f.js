"use strict";(this["webpackChunktyphon"]=this["webpackChunktyphon"]||[]).push([[912],{17365:function(e,t,a){a.r(t),a.d(t,{default:function(){return P}});var s=a(20641),n=a(90033);const l={class:"card"},o={class:"flex justify-between mb-2"},c={class:"page-title labelColor3 mb-6"},d={class:"capitalize"},r={class:"ml-2"},i={class:"flex flex-col"},p={key:0,class:"text-center font-medium text-lg py-10 flex flex-col items-center"},u={class:"mt-7 labelColor2"},m={key:1,class:"card2 overflow-hidden divide-y divideColor dark:divide-dark-2"},x={class:"w-9 h-9 flex rounded-full items-center justify-center bg-primary-8 dark:bg-dark labelColor3 text-sm"},v={class:"flex flex-col flex-grow"},b={class:"text-sm font-medium labelColor3"},k={class:"flex space-x-1 items-center"},y={class:"font-mono text-xs text-gray-500 dark:text-gray-400"},f={class:"self-center mr-1"},g=["onClick"],C=["onClick"];function h(e,t,a,h,A,L){const w=(0,s.g2)("font-awesome-icon"),E=(0,s.g2)("app-button"),N=(0,s.g2)("md-icon"),_=(0,s.g2)("AppClipboard"),W=(0,s.gN)("middle-truncate"),I=(0,s.gN)("tippy");return(0,s.uX)(),(0,s.CE)("div",l,[(0,s.Lk)("div",o,[(0,s.Lk)("div",c,(0,n.v_)(e.$t("contacts")),1),(0,s.Lk)("div",d,[(0,s.bF)(E,{class:"btn btn-primary px-3 py-2 text-xs rounded-lg",onClick:e.openAddContactModal},{default:(0,s.k6)((()=>[(0,s.bF)(w,{icon:"plus"}),(0,s.Lk)("span",r,(0,n.v_)(e.$t("addNew")),1)])),_:1},8,["onClick"])])]),(0,s.Lk)("div",i,[0===e.contacts.length?((0,s.uX)(),(0,s.CE)("div",p,[(0,s.bF)(N,{icon:e.contactsIcon,size:35,class:"labelColor1"},null,8,["icon"]),(0,s.Lk)("span",u,(0,n.v_)(e.$t("noContacts")),1)])):((0,s.uX)(),(0,s.CE)("div",m,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.contacts,(t=>((0,s.uX)(),(0,s.CE)("div",{class:"flex items-center space-x-3 px-2 py-2",key:t.address},[(0,s.Lk)("div",x,(0,n.v_)(e.getInitials(t.name)),1),(0,s.Lk)("div",v,[(0,s.Lk)("span",b,(0,n.v_)(t.name),1),(0,s.Lk)("div",k,[(0,s.bo)(((0,s.uX)(),(0,s.CE)("span",y,[(0,s.eW)((0,n.v_)(t.address),1)])),[[W,50],[I,{content:`<span style='word-break: break-all;'>${t.address}</span>`,interactive:!0,allowHTML:!0}]]),(0,s.Lk)("div",f,[(0,s.bF)(_,{content:t.address},null,8,["content"])])])]),(0,s.Lk)("button",{onClick:a=>e.remove(t.address),class:"pl-2 pr-3 py-1.5 flex items-center space-x-2 text-xs bg-red-200 rounded-full font-medium hover:bg-opacity-70 text-gray-800"},[(0,s.bF)(N,{icon:e.deleteIcon,size:18,class:"text-red-500"},null,8,["icon"]),(0,s.Lk)("span",null,(0,n.v_)(e.$t("remove")),1)],8,g),(0,s.Lk)("button",{onClick:a=>e.send(t.address),class:"pl-2 pr-3 py-1.5 flex items-center space-x-2 text-xs bg-primary rounded-full hover:bg-opacity-90 text-white"},[(0,s.bF)(N,{icon:e.sendIcon,size:18},null,8,["icon"]),(0,s.Lk)("span",null,(0,n.v_)(e.$t("transact")),1)],8,C)])))),128))]))])])}a(44114);var A=a(50953),L=a(61795),w=a(18731),E=a(89318),N=a(53751);const _={class:"flex flex-col space-y-3 w-full"},W=["placeholder"],I={key:0,class:"text-xs text-orange-400 ml-2 mt-2"},F=["placeholder"],X={key:0,class:"text-xs text-orange-400 ml-2 mt-2"},$={key:1,class:"text-xs"},K={class:"rounded-full px-4 py-1 text-white bg-red-400"};function M(e,t,a,l,o,c){const d=(0,s.g2)("app-button");return(0,s.uX)(),(0,s.CE)("div",_,[(0,s.Lk)("div",null,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.contactName=t),class:"card2 labelColor3 input-text w-full text-sm px-4 py-2 sm:py-3 resize-none",placeholder:e.contactNameLabel,type:"text",maxlength:"36"},null,8,W),[[N.Jo,e.contactName]]),e.contactWithSameNameExist?((0,s.uX)(),(0,s.CE)("span",I,(0,n.v_)(e.$t("contactNameAlreadyExists")),1)):(0,s.Q3)("",!0)]),(0,s.bo)((0,s.Lk)("textarea",{type:"text",rows:"2","onUpdate:modelValue":t[1]||(t[1]=t=>e.address=t),class:"input-text card2 labelColor3 w-full text-sm px-4 py-2 sm:py-3 resize-none",placeholder:e.addressLabel,"data-gramm_editor":"false"},null,8,F),[[N.Jo,e.address]]),e.contactWithSameAddressExist?((0,s.uX)(),(0,s.CE)("span",X,(0,n.v_)(e.$t("contactAddressAlreadyExists")),1)):(0,s.Q3)("",!0),e.errorMessage?((0,s.uX)(),(0,s.CE)("div",$,[(0,s.Lk)("span",K,(0,n.v_)(e.errorMessage),1)])):(0,s.Q3)("",!0),(0,s.bF)(d,{disabled:!e.enableAddButton,isLoading:e.loading,onClick:e.add,class:"mt-1 btn btn-primary py-2 uppercase"},{default:(0,s.k6)((()=>[(0,s.eW)((0,n.v_)(e.$t("add")),1)])),_:1},8,["disabled","isLoading","onClick"])])}var R=a(99962),z=a(48156),O=a(70989),B=a(25426),S=(0,s.pM)({components:{AppButton:w.A},props:{contactsList:{type:Array,default:[]},onAdd:{type:Function,required:!0}},setup(e){const t=(0,A.KR)(""),a=(0,A.KR)(""),n=(0,A.KR)(""),l=(0,A.KR)(!1),{t:o}=(0,z.s9)(),c=o("name"),d=o("addressOrADAHandle"),r=(0,s.EW)((()=>{const t=e.contactsList.map((e=>e.name)).indexOf(a.value);return-1!=t})),i=(0,s.EW)((()=>{const a=e.contactsList.map((e=>e.address)).indexOf(t.value);return-1!=a})),p=(0,s.EW)((()=>t.value&&a.value.trim()&&!n.value)),u=async e=>{!e||e.startsWith("$")||(0,R.Vh)(e,B.A.value.NETWORK)?n.value="":n.value=o("invalidAddress")};(0,s.wB)(t,(e=>{u(e)}));const m=async()=>{if(l.value=!0,t.value.startsWith("$"))try{await(0,O.vg)(t.value)}catch(s){return n.value=o("adaHandleNotFound"),void(l.value=!1)}e.onAdd&&e.onAdd(a.value.trim(),t.value),l.value=!1};return{address:t,contactName:a,errorMessage:n,enableAddButton:p,add:m,contactNameLabel:c,addressLabel:d,contactWithSameNameExist:r,contactWithSameAddressExist:i,loading:l}}}),T=a(66262);const D=(0,T.A)(S,[["render",M]]);var H=D,Q=a(46166),V=a(97484),j=a(9165),J=a(27066),U=(0,s.pM)({components:{AppClipboard:L.A,AppButton:w.A},setup(){const{t:e}=(0,z.s9)(),t=(0,Q.rd)(),a=(0,A.KR)([]);(0,s.sV)((()=>{B.A.value.IS_EXTENSION||t.push("/wallet"),n()}));const n=async()=>{const e=await(0,V.kK)();a.value=e.filter((e=>e.network==B.A.value.NETWORK))},l=()=>{E._g.openDialog({component:H,size:E.sD.lg,title:e("addNewContact"),props:{contactsList:a.value,onAdd:d}})},o=e=>{t.push("/wallet"),t.push({name:"Home",params:{address:e}})},c=async e=>{await(0,V.no)(e),await n()},d=async(e,t)=>{await(0,V.IP)({name:e,address:t,network:B.A.value.NETWORK}),await n(),E._g.closeDialog()};return{contacts:a,openAddContactModal:l,send:o,remove:c,getInitials:J.IM,deleteIcon:j.FhF,sendIcon:j.nQx,contactsIcon:j.aB4}}});const q=(0,T.A)(U,[["render",h]]);var P=q}}]);