"use strict";(this["webpackChunktyphon"]=this["webpackChunktyphon"]||[]).push([[654],{48629:function(e,t,a){a.r(t),a.d(t,{default:function(){return qo}});var l=a(20641),s=a(90033);const o={key:2,class:"text-center labelColor3 card py-20"},n={key:3,class:"mt-10"},i={class:"card max-w-lg mx-auto space-y-5 text-center"},r={class:"labelColor3"},c=(0,l.Lk)("br",null,null,-1),d={key:4,class:"card"},p={key:0,class:"flex flex-col space-y-2"},u={key:0,class:"flex items-center space-x-3 py-2 px-4 text-red-500 bg-red-100 rounded-md"},m={class:"text-sm"},v={key:1,class:"flex items-center space-x-3 py-2 px-4 text-red-500 bg-red-100 rounded-md"},g={class:"text-sm"},x={key:2,class:"flex items-center space-x-3 py-2 px-4 text-red-500 bg-red-100 rounded-md"},k={class:"text-sm"},f={key:1,class:"flex flex-wrap md:flex-nowrap items-stretch"},b={class:"w-full md:w-1/2 p-2"},y={class:"w-full md:w-1/2 p-2"},w={class:"h-full flex flex-col card2 px-4 pt-3 pb-2 gap-3"},h={class:"md:h-1/2 w-full"},L={class:"md:h-1/2 max-h-60 w-full overflow-y-scroll"},C={key:2,class:"flex flex-col items-center"},A=(0,l.Lk)("br",null,null,-1);function E(e,t,a,E,I,P){const _=(0,l.g2)("pending-delegation-message"),$=(0,l.g2)("pending-deregistration-message"),D=(0,l.g2)("delegation-info"),F=(0,l.g2)("font-awesome-icon"),T=(0,l.g2)("pool-info"),W=(0,l.g2)("EpochHistoryGraph"),R=(0,l.g2)("RewardsHistoryTable");return e.pendingDelegation?((0,l.uX)(),(0,l.Wv)(_,{key:0})):e.pendingDeregistration?((0,l.uX)(),(0,l.Wv)($,{key:1})):!e.activeAccount||e.activeAccount.stakingInfo.status||e.isHavingEnoughBalanceForNewDelegation?e.activeAccount&&e.activeAccount.stakingInfo&&!e.activeAccount.stakingInfo.status?((0,l.uX)(),(0,l.CE)("div",n,[(0,l.Lk)("div",i,[(0,l.Lk)("div",r,[(0,l.eW)((0,s.v_)(e.$t("notStakedMessage")),1),c,(0,l.eW)(" "+(0,s.v_)(e.$t("startStaking")),1)]),(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...t)=>e.openPoolsDialog&&e.openPoolsDialog(...t)),class:"btn btn-primary px-4 py-1 text-sm uppercase tracking-wide"},(0,s.v_)(e.$t("start")),1)])])):e.activeAccount&&e.activeAccount.poolInfo?((0,l.uX)(),(0,l.CE)("div",d,[(0,l.bF)(D),e.isPledgeNotMet||e.isPoolExpiring||e.isPoolExpired?((0,l.uX)(),(0,l.CE)("div",p,[e.isPledgeNotMet?((0,l.uX)(),(0,l.CE)("div",u,[(0,l.bF)(F,{icon:"info-circle",class:"w-5 h-5 mr-0"}),(0,l.Lk)("p",m,(0,s.v_)(e.$t("pledgeNotMet")),1)])):(0,l.Q3)("",!0),e.isPoolExpiring?((0,l.uX)(),(0,l.CE)("div",v,[(0,l.bF)(F,{icon:"info-circle",class:"w-5 h-5 mr-0"}),(0,l.Lk)("p",g,(0,s.v_)(e.$t("poolExpiring",{epoch:e.activeAccount.poolInfo.retiredEpoch})),1)])):(0,l.Q3)("",!0),e.isPoolExpired?((0,l.uX)(),(0,l.CE)("div",x,[(0,l.bF)(F,{icon:"info-circle",class:"w-5 h-5 mr-0"}),(0,l.Lk)("p",k,(0,s.v_)(e.$t("poolExpired",{epoch:e.activeAccount.poolInfo.retiredEpoch})),1)])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0),e.activeAccount&&e.activeAccount.poolInfo?.poolId?((0,l.uX)(),(0,l.CE)("div",f,[(0,l.Lk)("div",b,[(0,l.bF)(T,{poolInfo:e.activeAccount.poolInfo},null,8,["poolInfo"])]),(0,l.Lk)("div",y,[(0,l.Lk)("div",w,[(0,l.Lk)("div",h,[(0,l.bF)(W,{epochRewardMap:e.epochRewardMap,class:"w-full h-full"},null,8,["epochRewardMap"])]),(0,l.Lk)("div",L,[(0,l.bF)(R,{epochRewardMap:e.epochRewardMap},null,8,["epochRewardMap"])])])])])):((0,l.uX)(),(0,l.CE)("div",C,[(0,l.Lk)("div",null,[(0,l.eW)((0,s.v_)(e.$t("notStakedMessage")),1),A,(0,l.eW)(" "+(0,s.v_)(e.$t("startStaking")),1)]),(0,l.Lk)("button",{onClick:t[1]||(t[1]=(...t)=>e.openPoolsDialog&&e.openPoolsDialog(...t)),class:"btn btn-primary px-4 py-1 text-sm uppercase tracking-wide"},(0,s.v_)(e.$t("start")),1)]))])):(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",o,(0,s.v_)(e.$t("minAdaForStaking",{amount:e.$filters.formatADA(e.minRequiredBalanceForDelegationTrx)})),1))}var I=a(25426);const P={class:"space-y-5"},_={class:"flex justify-between"},$={class:"labelColor3 text-lg font-medium capitalize"},D={class:"mt-1 text-sm break-all"},F=["href"],T=["disabled"],W={key:0},R={class:"flex space-x-3 items-center"},M={class:"labelColor2 text-sm"},S={key:0,class:"labelColor3 text-sm font-semibold ml-2 uppercase"},X={key:1,class:"labelColor3 text-sm font-semibold ml-2"},N=["disabled"],B={class:"mt-4 overflow-hidden flex flex-wrap"},z={class:"w-1/2 lg:w-1/4 p-2"},O={class:"bg-primary-1 card2 px-6 py-4"},K={class:"text-sm capitalize flex items-center"},Q={class:"labelColor2"},H={class:"mt-1 text-2xl sm:text-lg"},j={class:"flex items-baseline"},G={class:"w-1/2 lg:w-1/4 p-2"},q={class:"flex-grow card2 px-6 py-4"},V={class:"text-sm labelColor2 capitalize"},U={class:"flex mt-1 text-2xl sm:text-lg items-center"},Y={class:"flex items-baseline"},Z={class:"w-1/2 lg:w-1/4 p-2"},J={class:"card2 px-6 py-4"},ee={class:"text-sm labelColor2 capitalize"},te={class:"flex mt-1 text-2xl sm:text-lg items-center"},ae={class:"flex items-baseline"},le={class:"w-1/2 lg:w-1/4 p-2"},se={class:"card2 px-6 py-4"},oe={class:"text-sm labelColor2 capitalize"},ne={class:"flex mt-1 text-2xl sm:text-lg items-center"},ie={class:"flex items-baseline"};function re(e,t,a,o,n,i){const r=(0,l.g2)("AppClipboard"),c=(0,l.g2)("font-awesome-icon"),d=(0,l.g2)("decimal-number"),p=(0,l.g2)("ada"),u=(0,l.g2)("SortDescendingIcon"),m=(0,l.g2)("AppButton"),v=(0,l.gN)("tippy"),g=(0,l.gN)("middle-truncate");return(0,l.uX)(),(0,l.CE)("div",P,[(0,l.Lk)("div",_,[(0,l.Lk)("div",null,[(0,l.Lk)("div",$,(0,s.v_)(e.$t("stakingAccount")),1),(0,l.Lk)("div",D,[(0,l.Lk)("a",{href:`${e.$env.explorer}stakeKey/${e.activeAccount.stakeCredential.hash}`,target:"_blank",class:"labelColor3 hover:text-primary dark:hover:text-primary"},(0,s.v_)(e.encodedStakingKey),9,F),(0,l.bF)(r,{content:e.encodedStakingKey},null,8,["content"])])]),(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("button",{class:"btn btn-md text-white bg-red-500 uppercase text-sm tracking-wide text-md",disabled:!!e.isRewardsAvailable,onClick:t[0]||(t[0]=(...t)=>e.deregister&&e.deregister(...t))},(0,s.v_)(e.$t("deRegister")),9,T)])),[[v,{content:e.isTransactionPending?e.$t("waitForPendingTransaction"):e.isRewardsAvailable?e.$t("withdrawRewardsBeforeDeregister"):""}]])]),e.activeAccount.poolInfo?((0,l.uX)(),(0,l.CE)("div",W,[(0,l.Lk)("div",R,[(0,l.Lk)("div",null,[(0,l.Lk)("span",M,(0,s.v_)(e.$t("delegatingTo")),1),e.activeAccount.poolInfo.ticker?((0,l.uX)(),(0,l.CE)("span",S,(0,s.v_)(e.activeAccount.poolInfo.ticker),1)):(0,l.bo)(((0,l.uX)(),(0,l.CE)("span",X,[(0,l.eW)((0,s.v_)(e.$filters.encodePoolId(e.activeAccount.poolInfo.poolId)),1)])),[[g,18]])]),(0,l.Lk)("button",{onClick:t[1]||(t[1]=(...t)=>e.openPoolsDialog&&e.openPoolsDialog(...t)),class:"btn btn-primary text-xs uppercase px-2 py-0.5",disabled:e.activeAccount.stakingInfo.stake.isZero()},(0,s.v_)(e.$t("change")),9,N)]),(0,l.Lk)("div",B,[(0,l.Lk)("div",z,[(0,l.Lk)("div",O,[(0,l.Lk)("div",K,[(0,l.Lk)("span",Q,(0,s.v_)(e.$t("totalStake")),1),(0,l.bo)((0,l.bF)(c,{icon:"info-circle",class:"text-primary text-xs ml-1","aria-hidden":"true"},null,512),[[v,{content:`${e.$t("walletBalance")} + ${e.$t("rewardBalance")} + ${e.$t("collateralBalance")}`}]])]),(0,l.Lk)("div",H,[(0,l.Lk)("div",j,[(0,l.bF)(d,{value:e.$filters.formatADA(e.totalStakeForDelegationAccount),integralClasses:"dark:text-gray-300 font-semibold",fractionalClasses:"dark:text-gray-300 text-xs",isHidableBalance:!0},null,8,["value"]),(0,l.bF)(p,{class:"dark:text-gray-300 h-3 w-3 ml-2"})])])])]),(0,l.Lk)("div",G,[(0,l.Lk)("div",q,[(0,l.Lk)("div",V,(0,s.v_)(e.$t("stakedWalletBalance")),1),(0,l.Lk)("div",U,[(0,l.Lk)("div",Y,[(0,l.bF)(d,{value:e.$filters.formatADA(e.activeAccount.stakingInfo.stake),integralClasses:"dark:text-gray-300 font-semibold",fractionalClasses:"dark:text-gray-300 text-xs",isHidableBalance:!0},null,8,["value"]),(0,l.bF)(p,{class:"dark:text-gray-300 h-3 w-3 ml-2"})])])])]),(0,l.Lk)("div",Z,[(0,l.Lk)("div",J,[(0,l.Lk)("div",ee,(0,s.v_)(e.$t("stakedRewardBalance")),1),(0,l.Lk)("div",te,[(0,l.Lk)("div",ae,[(0,l.bF)(d,{value:e.$filters.formatADA(e.rewardsAvailable),integralClasses:"dark:text-gray-300 font-semibold",fractionalClasses:"dark:text-gray-300 text-xs",isHidableBalance:!0},null,8,["value"]),(0,l.bF)(p,{class:"dark:text-gray-300 h-3 w-3 ml-2"})]),(0,l.bo)(((0,l.uX)(),(0,l.CE)("span",null,[(0,l.bF)(m,{onClick:e.openConfirmWithdrawalModal,class:"ml-2 btn bg-primary rounded-full p-1 w-6 h-6",disabled:e.disableWithdrawRewardsButton,isLoading:e.isBuildingWithdrawalTransaction},{default:(0,l.k6)((()=>[(0,l.bF)(u,{class:"text-white w-4 h-4"})])),_:1},8,["onClick","disabled","isLoading"])])),[[v,{content:e.onHoverMessageForWithdrawRewardsButton}]])])])]),(0,l.Lk)("div",le,[(0,l.Lk)("div",se,[(0,l.Lk)("div",oe,[(0,l.Lk)("span",null,(0,s.v_)(e.$t("unstakedBalance")),1),(0,l.bo)((0,l.bF)(c,{icon:"info-circle",class:"text-primary text-xs ml-1","aria-hidden":"true"},null,512),[[v,{content:e.$t("stakeUnstakedAmount")}]])]),(0,l.Lk)("div",ne,[(0,l.Lk)("div",ie,[(0,l.bF)(d,{value:e.$filters.formatADA(e.getUnstakedAmount()),integralClasses:"dark:text-gray-300 font-semibold",fractionalClasses:"dark:text-gray-300 text-xs",isHidableBalance:!0},null,8,["value"]),(0,l.bF)(p,{class:"dark:text-gray-300 h-3 w-3 ml-2"})]),(0,l.Lk)("span",null,[(0,l.bF)(m,{onClick:e.stakeUnstakedAmount,class:"ml-2 btn bg-primary rounded-full p-1 w-6 h-6",disabled:e.getUnstakedAmount().isZero(),isLoading:e.isTransactionLoading},{default:(0,l.k6)((()=>[(0,l.bF)(u,{class:"text-white w-4 h-4"})])),_:1},8,["onClick","disabled","isLoading"])])])])])])])):(0,l.Q3)("",!0)])}var ce=a(50953),de=a(61795),pe=a(24045),ue=a(68649);const me={key:0},ve={class:"flex items-center space-x-2 text-gray-50 text-sm px-1 py-1 rounded-md bg-primary mb-2"},ge={class:"text-sm labelColor3"},xe={class:"mt-5"},ke={class:"card2 py-2 px-3"},fe={class:"text-xs font-semibold labelColor2"},be={class:"mt-1 text-md font-medium labelColor3"},ye={class:"mt-3 card2 py-2 px-3"},we={class:"text-xs font-semibold labelColor3"},he={class:"mt-1 flex items-baseline space-x-2 labelColor3"},Le={class:"mt-3 card2 py-2 px-3"},Ce={class:"text-xs font-semibold labelColor2"},Ae={class:"mt-1 text-md font-medium labelColor3"},Ee={class:"mt-3 card2 py-2 px-3"},Ie={class:"text-xs font-semibold labelColor2"},Pe={class:"mt-1 flex items-baseline labelColor3"};function _e(e,t,a,o,n,i){const r=(0,l.g2)("font-awesome-icon"),c=(0,l.g2)("decimal-number"),d=(0,l.g2)("ada"),p=(0,l.g2)("ConfirmTransaction");return e.transaction?((0,l.uX)(),(0,l.CE)("div",me,[(0,l.Lk)("div",ve,[(0,l.bF)(r,{icon:"info-circle",class:"w-3 h-3 mx-1"}),(0,l.Lk)("span",null,(0,s.v_)(e.$t("rewardWithdrawalInfoMessage")),1)]),(0,l.Lk)("div",ge,(0,s.v_)(e.$t("rewardWithdrawalMessage")),1),(0,l.Lk)("div",xe,[(0,l.Lk)("div",ke,[(0,l.Lk)("div",fe,(0,s.v_)(e.$t("stakingAccount")),1),(0,l.Lk)("div",be,(0,s.v_)(e.$filters.encodeStakeKey(e.activeAccount.stakeCredential.hash,0)),1)]),(0,l.Lk)("div",ye,[(0,l.Lk)("div",we,(0,s.v_)(e.$t("rewardsToBeWithdrawn")),1),(0,l.Lk)("div",he,[(0,l.bF)(c,{value:e.$filters.formatADA(e.activeAccount.stakingInfo.rewardsAvailable),integralClasses:"text-lg font-medium",fractionalClasses:"text-xs"},null,8,["value"]),(0,l.bF)(d,{class:"h-3 w-3 ml-2"})])]),(0,l.Lk)("div",Le,[(0,l.Lk)("div",Ce,(0,s.v_)(e.$t("stakedTo")),1),(0,l.Lk)("div",Ae,(0,s.v_)(e.activeAccount.poolInfo?.name?e.activeAccount.poolInfo.name:e.activeAccount.poolInfo?.poolId)+" "+(0,s.v_)(e.activeAccount.poolInfo?.ticker?`(${e.activeAccount.poolInfo.ticker})`:""),1)])]),(0,l.Lk)("div",Ee,[(0,l.Lk)("div",Ie,(0,s.v_)(e.$t("fees")),1),(0,l.Lk)("div",Pe,[(0,l.bF)(c,{value:e.$filters.formatADA(e.transaction.getFee()),integralClasses:"text-md font-medium",fractionalClasses:"text-xs"},null,8,["value"]),(0,l.bF)(d,{class:"h-2.5 w-2.5 ml-2"})])]),(0,l.Lk)("div",null,[(0,l.bF)(p,{transaction:e.transaction,onFailure:e.onFailure,onSuccess:e.onSuccess,callback:()=>{}},null,8,["transaction","onFailure","onSuccess"])])])):(0,l.Q3)("",!0)}var $e=a(13657),De=a(89318),Fe=a(74946),Te=a(83031),We=a(48156),Re=a(59061),Me=a(15376),Se=a(36643),Xe=(0,l.pM)({components:{ConfirmTransaction:$e.A,DecimalNumber:pe.A},props:{transaction:{type:Se.Transaction,required:!0}},setup(){const e=(0,Me.G)(),{t:t}=(0,We.s9)(),a=(0,l.EW)((()=>e.activeAccount)),s=a.value.stakingInfo.rewardsAvailable,o=()=>{De._g.openDialog({component:Te.A,props:{title:t("trxSubmitted"),description:t("withdrawTrxSubmitted",{amount:Re.N.formatADA(s)}),alertType:Fe.vT.INFO},size:De.sD.lg})},n=()=>{De._g.openDialog({component:Te.A,props:{title:t("failedToSubmitTrx"),description:t("somethingWentWrong"),alertType:Fe.vT.ERROR},size:De.sD.lg})};return{onFailure:n,onSuccess:o,activeAccount:a}}}),Ne=a(66262);const Be=(0,Ne.A)(Xe,[["render",_e]]);var ze=Be,Oe=a(53751);const Ke={class:"min-w-full"},Qe={class:"space-y-2"},He=["placeholder"],je={class:"flex items-center justify-end space-x-1 text-xs rounded-md text-gray-500"},Ge={class:"border border-primary-8 dark:border-none cardColor min-w-full rounded-md overflow-hidden"},qe={class:"overflow-y-auto"},Ve={class:"min-w-full table-auto divide-y divideColor"},Ue={class:"bg-primary-3 dark:bg-dark-3"},Ye={class:"sticky top-0 z-50 labelColor3"},Ze={scope:"col",class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},Je={scope:"col",class:"px-6 py-3 text-center text-xs font-medium uppercase tracking-wider"},et={scope:"col",class:"px-6 py-3 text-center text-xs font-medium uppercase tracking-wider"},tt={scope:"col",class:"px-6 py-3 text-center text-xs font-medium uppercase tracking-wider"},at={scope:"col",class:"px-6 py-3 text-center text-xs font-medium uppercase tracking-wider"},lt={scope:"col",class:"px-6 py-3 text-center text-xs font-medium uppercase tracking-wider"},st={scope:"col",class:"px-6 py-3 text-center text-xs font-medium uppercase tracking-wider"},ot={scope:"col",class:"relative px-6 py-3"},nt={class:"sr-only"},it={class:"bg-white divide-y divideColor text-sm"},rt={class:"px-3 py-4 whitespace-nowrap"},ct={class:"flex text-sm font-medium"},dt=["href"],pt={class:"flex"},ut={class:"text-sm"},mt=["href"],vt={class:"flex text-primary"},gt={class:"text-sm font-mono"},xt={class:"px-3 py-4 text-center whitespace-nowrap"},kt={class:"text-sm percent-symbol"},ft={class:"flex justify-center"},bt={class:"px-3 py-4 text-center whitespace-nowrap"},yt={class:"px-3 py-4 whitespace-nowrap text-center text-sm"},wt={class:"flex justify-center items-center"},ht={class:"ml-1"},Lt={class:"px-3 py-4 whitespace-nowrap text-center text-sm font-medium"},Ct={class:"px-3 py-4 percent-symbol whitespace-nowrap text-center text-sm font-medium"},At={class:"px-3 py-4 whitespace-nowrap text-center text-sm font-medium"},Et=(0,l.Lk)("span",{class:"percent-symbol"},null,-1),It={class:"whitespace-nowrap text-center text-sm font-medium pr-2"};function Pt(e,t,a,o,n,i){const r=(0,l.g2)("font-awesome-icon"),c=(0,l.g2)("single-pool-row-loading"),d=(0,l.g2)("ExternalLinkIcon"),p=(0,l.g2)("AppClipboard"),u=(0,l.g2)("x-circle-icon"),m=(0,l.g2)("check-circle-icon"),v=(0,l.g2)("AppButton"),g=(0,l.g2)("app-pagination-bar"),x=(0,l.gN)("tippy"),k=(0,l.gN)("middle-truncate");return(0,l.uX)(),(0,l.CE)("div",Ke,[(0,l.Lk)("div",Qe,[(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t),onKeyup:t[1]||(t[1]=(0,Oe.jR)((t=>e.fetchPools(1)),["enter"])),class:"text-sm card2 px-3 w-full py-3 labelColor3 dark:focus:outline-none",placeholder:e.$t("searchPlaceHolder")},null,40,He),[[Oe.Jo,e.search]]),(0,l.Lk)("div",je,[(0,l.bF)(r,{icon:"info-circle",class:"w-4 h-4 mx-1"}),(0,l.Lk)("span",null,(0,s.v_)(e.$t("randomPoolListMessage")),1)]),(0,l.Lk)("div",Ge,[(0,l.Lk)("div",qe,[(0,l.Lk)("table",Ve,[(0,l.Lk)("thead",Ue,[(0,l.Lk)("tr",Ye,[(0,l.Lk)("th",Ze,(0,s.v_)(e.$t("tickerNameWebsite")),1),(0,l.Lk)("th",Je,(0,s.v_)(e.$t("liveSaturation")),1),(0,l.Lk)("th",et,[(0,l.eW)((0,s.v_)(e.$t("liveStake"))+" ",1),(0,l.bo)((0,l.bF)(r,{icon:"info-circle",class:"ml-0.2","aria-hidden":"true"},null,512),[[x,{content:e.$t("liveStakeDescription")}]])]),(0,l.Lk)("th",tt,[(0,l.eW)((0,s.v_)(e.$t("pledge"))+" ",1),(0,l.bo)((0,l.bF)(r,{icon:"info-circle",class:"ml-0.2","aria-hidden":"true"},null,512),[[x,{content:e.$t("pledgeDescription")}]])]),(0,l.Lk)("th",at,[(0,l.eW)((0,s.v_)(e.$t("cost"))+" ",1),(0,l.bo)((0,l.bF)(r,{icon:"info-circle",class:"ml-0.2","aria-hidden":"true"},null,512),[[x,{content:e.$t("costDescription")}]])]),(0,l.Lk)("th",lt,[(0,l.eW)((0,s.v_)(e.$t("margin"))+" ",1),(0,l.bo)((0,l.bF)(r,{icon:"info-circle",class:"ml-0.2","aria-hidden":"true"},null,512),[[x,{content:e.$t("marginDescription")}]])]),(0,l.Lk)("th",st,[(0,l.eW)((0,s.v_)(e.$t("interest"))+" ",1),(0,l.bo)((0,l.bF)(r,{icon:"info-circle",class:"ml-0.2","aria-hidden":"true"},null,512),[[x,{content:e.$t("interestDescription")}]])]),(0,l.Lk)("th",ot,[(0,l.Lk)("span",nt,(0,s.v_)(e.$t("select")),1)])])]),(0,l.Lk)("tbody",it,[e.loading?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:0},(0,l.pI)(Array(10),((e,t)=>((0,l.uX)(),(0,l.Wv)(c,{key:t})))),128)):((0,l.uX)(!0),(0,l.CE)(l.FK,{key:1},(0,l.pI)(e.pools,((t,a)=>((0,l.uX)(),(0,l.CE)("tr",{key:a,class:"bg-primary-1 dark:bg-dark labelColor3"},[(0,l.Lk)("td",rt,[(0,l.Lk)("div",ct,[t.ticker?((0,l.uX)(),(0,l.CE)("a",{key:0,href:`${e.$env.explorer}pool/${t.poolId}`,target:"_blank",class:"hover:text-blue-500"},[(0,l.Lk)("div",pt,[(0,l.Lk)("div",null,(0,s.v_)(t.ticker)+" - "+(0,s.v_)(t.name),1),(0,l.bF)(d,{class:"w-4 ml-1"})])],8,dt)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",ut,[(0,l.Lk)("a",{href:t.website,target:"_blank",class:"hover:text-primary"},[(0,l.Lk)("div",vt,(0,s.v_)(t.website&&t.website.length>35?t.website.slice(0,35)+"...":t.website),1)],8,mt)]),(0,l.Lk)("div",gt,[(0,l.bo)(((0,l.uX)(),(0,l.CE)("span",null,[(0,l.eW)((0,s.v_)(e.encodedPoolIdMap[t.poolId]),1)])),[[k,25]]),(0,l.bF)(p,{content:e.encodedPoolIdMap[t.poolId]},null,8,["content"])])]),(0,l.Lk)("td",xt,[(0,l.Lk)("div",kt,(0,s.v_)(t.saturationLevel),1),(0,l.Lk)("div",ft,[parseInt(t.saturationLevel)>=100?(0,l.bo)(((0,l.uX)(),(0,l.Wv)(u,{key:0,class:"w-4 h-4 text-red-500"},null,512)),[[x,{content:e.$t("poolSaturated")}]]):(0,l.Q3)("",!0)])]),(0,l.Lk)("td",bt,(0,s.v_)(e.getNumeralizeAda(t.liveStake)),1),(0,l.Lk)("td",yt,[(0,l.Lk)("div",null,(0,s.v_)(e.getNumeralizeAda(t.pledge)),1),(0,l.Lk)("div",wt,[(0,l.Lk)("span",null,(0,s.v_)(e.getNumeralizeAda(t.activePledge)),1),(0,l.Lk)("span",ht,[e.isPledgeEnough(t.pledge,t.activePledge)?(0,l.bo)(((0,l.uX)(),(0,l.Wv)(m,{key:0,class:"w-4 h-4 text-green-500"},null,512)),[[x,{content:e.$t("poolMeetsPledge")}]]):(0,l.bo)(((0,l.uX)(),(0,l.Wv)(u,{key:1,class:"w-4 h-4 text-red-500"},null,512)),[[x,{content:e.$t("poolPledgeNotMet")}]])])])]),(0,l.Lk)("td",Lt,(0,s.v_)(e.getNumeralizeAda(t.cost)),1),(0,l.Lk)("td",Ct,(0,s.v_)(t.margin),1),(0,l.Lk)("td",At,[(0,l.eW)((0,s.v_)(e.getPoolInterest(t.interest)),1),Et]),(0,l.Lk)("td",It,[(0,l.bo)(((0,l.uX)(),(0,l.CE)("span",null,[(0,l.bF)(v,{isLoading:!!e.selectedPoolForDelegation&&e.selectedPoolForDelegation.poolId===t.poolId,disabled:e.stakeCredential&&e.stakeCredential.poolInfo&&e.stakeCredential.poolInfo.poolId===t.poolId,class:"btn btn-md btn-primary py-1.5 px-2",onClick:a=>e.selectPool(t)},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.$t("select")),1)])),_:2},1032,["isLoading","disabled","onClick"])])),[[x,{content:e.stakeCredential&&e.stakeCredential.poolInfo&&e.stakeCredential.poolInfo.poolId===t.poolId?e.$t("alreadyDelegating"):null}]])])])))),128))])])]),(0,l.Lk)("div",null,[(0,l.bF)(g,{limit:e.limit,pageNo:e.pageNo,currentPageItemsCount:e.pools.length,onNext:t[2]||(t[2]=t=>e.fetchPools(e.pageNo+1)),onPrevious:t[3]||(t[3]=t=>e.fetchPools(e.pageNo-1))},null,8,["limit","pageNo","currentPageItemsCount"])])])])])}var _t=a(39340),$t=a(41448),Dt=a(67991),Ft=a(21098),Tt=a(27066),Wt=a(60346),Rt=a(70989);const Mt={key:1,class:"space-y-3 text-sm"},St={key:0,class:"text-sm labelColor3"},Xt={key:1,class:"card2 py-2 px-3"},Nt={class:"text-xs font-semibold labelColor2 mb-0.5"},Bt={key:0,class:"mt-2 text-sm font-medium labelColor3"},zt={key:0,class:"text-xs"},Ot={key:1,class:"text-sm font-medium labelColor3 font-mono"},Kt={class:"card2 py-2 px-3"},Qt={class:"text-xs font-semibold labelColor2"},Ht={key:0,class:"space-y-1 my-1"},jt={key:0,class:"flex items-center space-x-2 text-gray-50 px-1 py-2 rounded-md bg-red-400"},Gt={key:1,class:"flex items-center space-x-2 text-gray-50 px-1 py-2 rounded-md bg-red-400"},qt={key:2,class:"flex items-center space-x-2 text-gray-50 px-1 py-2 rounded-md bg-red-400"},Vt={key:1,class:"mt-2 text-sm font-medium labelColor3"},Ut={key:0,class:"text-xs"},Yt={key:2,class:"text-sm font-medium labelColor3 font-mono"},Zt={class:"flex space-x-10 card2 py-2 px-3"},Jt={class:"text-xs font-semibold labelColor2"},ea={class:"mt-1 flex items-baseline space-x-2 labelColor3"},ta={class:"text-xs font-semibold labelColor2"},aa={class:"mt-1 flex items-baseline space-x-2 labelColor3"};function la(e,t,a,o,n,i){const r=(0,l.g2)("confirm-delegation-skeleton"),c=(0,l.g2)("font-awesome-icon"),d=(0,l.g2)("DecimalNumberVue"),p=(0,l.g2)("ada"),u=(0,l.g2)("ConfirmTransaction");return(0,l.uX)(),(0,l.CE)("div",null,[e.transaction?((0,l.uX)(),(0,l.CE)("div",Mt,[e.activeAccount.poolInfo&&e.activeAccount.poolInfo.poolId?((0,l.uX)(),(0,l.CE)("div",Xt,[(0,l.Lk)("div",Nt,(0,s.v_)(e.$t("currentDelegation")),1),e.activeAccount.poolInfo.name?((0,l.uX)(),(0,l.CE)("div",Bt,[(0,l.eW)((0,s.v_)(e.activeAccount.poolInfo.name)+" ",1),e.activeAccount.poolInfo.ticker?((0,l.uX)(),(0,l.CE)("span",zt,"("+(0,s.v_)(e.activeAccount.poolInfo.ticker)+")",1)):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0),e.activeAccount.poolInfo.poolId?((0,l.uX)(),(0,l.CE)("div",Ot,(0,s.v_)(e.encodePoolId(e.activeAccount.poolInfo.poolId)),1)):(0,l.Q3)("",!0)])):((0,l.uX)(),(0,l.CE)("p",St,(0,s.v_)(e.$t("fistTimeDelegationMessage")),1)),(0,l.Lk)("div",Kt,[(0,l.Lk)("div",Qt,(0,s.v_)(e.$t("newDelegation")),1),e.isPledgeNotMet||e.isMarginHundred||e.isPoolExpiring?((0,l.uX)(),(0,l.CE)("div",Ht,[e.isPledgeNotMet?((0,l.uX)(),(0,l.CE)("div",jt,[(0,l.bF)(c,{icon:"exclamation-triangle",class:"w-3 h-3 mx-1"}),(0,l.Lk)("span",null,(0,s.v_)(e.$t("pledgeNotMet")),1)])):(0,l.Q3)("",!0),e.isMarginHundred?((0,l.uX)(),(0,l.CE)("div",Gt,[(0,l.bF)(c,{icon:"exclamation-triangle",class:"w-3 h-3 mx-1"}),(0,l.Lk)("span",null,(0,s.v_)(e.$t("marginHundred")),1)])):(0,l.Q3)("",!0),e.isPoolExpiring?((0,l.uX)(),(0,l.CE)("div",qt,[(0,l.bF)(c,{icon:"exclamation-triangle",class:"w-3 h-3 mx-1"}),(0,l.Lk)("span",null,(0,s.v_)(e.$t("poolExpiring",{epoch:e.selectedPool.retiredEpoch})),1)])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0),e.selectedPool.name?((0,l.uX)(),(0,l.CE)("div",Vt,[(0,l.eW)((0,s.v_)(e.selectedPool.name)+" ",1),e.selectedPool.ticker?((0,l.uX)(),(0,l.CE)("span",Ut,"("+(0,s.v_)(e.selectedPool.ticker)+")",1)):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0),e.selectedPool.poolId?((0,l.uX)(),(0,l.CE)("div",Yt,(0,s.v_)(e.encodePoolId(e.selectedPool.poolId)),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Zt,[(0,l.Lk)("div",null,[(0,l.Lk)("div",Jt,(0,s.v_)(e.$t("fees")),1),(0,l.Lk)("div",ea,[(0,l.bF)(d,{value:e.$filters.formatADA(e.transaction.getFee()),integralClasses:"text-lg font-semibold"},null,8,["value"]),(0,l.bF)(p,{class:"h-3 w-3"})])]),(0,l.Lk)("div",null,[(0,l.Lk)("div",ta,(0,s.v_)(e.$t("deposit")),1),(0,l.Lk)("div",aa,[(0,l.bF)(d,{value:e.$filters.formatADA(e.transaction.getAdditionalOutputAda()),integralClasses:"text-lg font-semibold"},null,8,["value"]),(0,l.bF)(p,{class:"h-3 w-3"})])])]),(0,l.bF)(u,{transaction:e.transaction,onFailure:e.onFailure,onSuccess:e.onSuccess,callback:()=>{}},null,8,["transaction","onFailure","onSuccess"])])):((0,l.uX)(),(0,l.Wv)(r,{key:0}))])}const sa={class:"space-y-6 text-transparent"},oa={key:0,class:"text-sm line"},na=(0,l.Lk)("span",{class:"skeleton"},"First time delegation requires staking account registration with a 2 ADA",-1),ia=(0,l.Lk)("span",{class:"skeleton"},"deposit on the blockchain. The deposit will be refunded to your wallet",-1),ra=(0,l.Lk)("span",{class:"skeleton"},"when you decide to de register this delegation account.",-1),ca=[na,ia,ra],da={key:1,class:"skeleton max-w-max"},pa=(0,l.Lk)("div",{class:"text-xs"},"Current Delegation",-1),ua=(0,l.Lk)("div",{class:"text-sm font-medium"},[(0,l.eW)(" Typhon Pool "),(0,l.Lk)("span",{class:"text-xs skeleton"},"(TYPN1)")],-1),ma=[pa,ua],va=(0,l.Fv)('<div class="skeleton max-w-max"><div class="text-xs">New Delegation</div><p class="text-sm font-medium"> Typhon Pool <span class="text-xs">(TYPN2)</span></p></div><div class="flex space-x-10"><div class="skeleton"><p class="text-xs">Fees</p><p class="text-sm">0.001391</p></div><div class="skeleton"><p class="text-xs">Deposit</p><p class="text-sm">2.000000 A</p></div></div>',2),ga={class:"border px-4 py-2 rounded-md skeleton w-full"},xa=(0,l.Lk)("div",{class:"flex items-center w-full"},[(0,l.Lk)("div",{class:"flex-grow text-sm skeleton"},"More Details")],-1);function ka(e,t,a,s,o,n){const i=(0,l.g2)("AppExpand");return(0,l.uX)(),(0,l.CE)("div",sa,[e.delegationAccount.poolInfo?((0,l.uX)(),(0,l.CE)("div",oa,ca)):(0,l.Q3)("",!0),e.delegationAccount.poolInfo?((0,l.uX)(),(0,l.CE)("div",da,ma)):(0,l.Q3)("",!0),va,(0,l.Lk)("div",ga,[(0,l.bF)(i,null,{primary:(0,l.k6)((()=>[xa])),_:1})])])}var fa=a(96219),ba=(0,l.pM)({components:{AppExpand:fa.A},data(){return{delegationAccount:{poolInfo:!0}}}});const ya=(0,Ne.A)(ba,[["render",ka]]);var wa=ya,ha=a(82521),La=(0,l.pM)({components:{ConfirmDelegationSkeleton:wa,ConfirmTransaction:$e.A,DecimalNumberVue:pe.A},props:{transaction:{type:Se.Transaction,required:!0},selectedPool:{type:Object,required:!0}},setup(e){const{t:t}=(0,We.s9)(),a=(0,Me.G)(),s=(0,l.EW)((()=>a.activeAccount)),o=()=>{De._g.openDialog({component:Te.A,props:{title:t("trxSubmitted"),description:t("delegationSubmitted",{pool:e.selectedPool.ticker?e.selectedPool.ticker:`<span class='break-all'>${e.selectedPool.poolId}<span>`}),alertType:Fe.vT.INFO},size:De.sD.lg})},n=()=>{De._g.openDialog({component:Te.A,props:{title:t("trxSubmitted"),description:t("somethingWentWrong"),alertType:Fe.vT.ERROR},size:De.sD.lg})},i=(0,l.EW)((()=>new Wt.A(e.selectedPool.pledge).isGreaterThan(e.selectedPool.activePledge))),r=(0,l.EW)((()=>e.selectedPool.margin>100)),c=(0,l.EW)((()=>!!e.selectedPool.retiredEpoch));return{encodePoolId:ha.Ir,isPoolExpiring:c,isMarginHundred:r,isPledgeNotMet:i,onFailure:n,onSuccess:o,activeAccount:s}}});const Ca=(0,Ne.A)(La,[["render",la]]);var Aa=Ca,Ea=a(4037);const Ia={class:"dark:bg-dark"},Pa={class:"px-3 py-4 whitespace-nowrap"},_a=(0,l.Lk)("div",{class:"text-sm font-medium"},[(0,l.Lk)("div",{class:"skeleton"},"CSN - Cardanoscan Pool 1")],-1),$a=(0,l.Lk)("div",{class:"text-sm"},[(0,l.Lk)("a",{href:"#",target:"_blank",class:"skeleton"}," https://cardanoscan.io")],-1),Da={class:"text-sm skeleton"},Fa=(0,l.Lk)("td",{class:"px-3 py-4 text-center whitespace-nowrap"},[(0,l.Lk)("div",{class:"text-sm"},[(0,l.Lk)("span",{class:"skeleton"},"100")])],-1),Ta=(0,l.Lk)("td",{class:"px-3 py-4 text-center whitespace-nowrap"},[(0,l.Lk)("span",{class:"skeleton"},"100")],-1),Wa=(0,l.Lk)("td",{class:"px-3 py-4 whitespace-nowrap text-center text-sm"},[(0,l.Lk)("div",{class:"skeleton"},"10m"),(0,l.Lk)("div",{class:"skeleton"},"10m")],-1),Ra=(0,l.Lk)("td",{class:"px-3 py-4 whitespace-nowrap text-center text-sm font-medium"},[(0,l.Lk)("span",{class:"skeleton"},"340")],-1),Ma=(0,l.Lk)("td",{class:"px-3 py-4 whitespace-nowrap text-center text-sm font-medium"},[(0,l.Lk)("span",{class:"skeleton"},"4")],-1),Sa=(0,l.Lk)("td",{class:"px-3 py-4 whitespace-nowrap text-center text-sm font-medium"},[(0,l.Lk)("span",{class:"skeleton"},"7%")],-1),Xa=(0,l.Lk)("td",{class:"whitespace-nowrap text-center text-sm font-medium pr-2"},[(0,l.Lk)("button",{class:"btn btn-md py-1.5 px-2 skeleton"},"select")],-1);function Na(e,t){return(0,l.uX)(),(0,l.CE)("tr",Ia,[(0,l.Lk)("td",Pa,[_a,$a,(0,l.Lk)("div",Da,(0,s.v_)("7df262feae9201d1b2e32d4c825ca91b29fbafb2b8e556f6efb7f549".slice(0,14)+"..."+"7df262feae9201d1b2e32d4c825ca91b29fbafb2b8e556f6efb7f549".slice(42)),1)]),Fa,Ta,Wa,Ra,Ma,Sa,Xa])}const Ba={},za=(0,Ne.A)(Ba,[["render",Na]]);var Oa=za,Ka=a(18731),Qa=a(2543),Ha=a(99962),ja=(0,l.pM)({components:{CheckCircleIcon:_t.A,XCircleIcon:$t.A,ExternalLinkIcon:Dt.A,AppClipboard:de.A,AppPaginationBar:Ft.A,SinglePoolRowLoading:Oa,AppButton:Ka.A},setup(){const{t:e}=(0,We.s9)(),t=(0,Me.G)(),a=(0,l.EW)((()=>t.activeAccount)),s=(0,ce.KR)(!0),o=(0,ce.KR)(""),n=(0,ce.KR)([]),i=(0,ce.KR)(1),r=(0,ce.KR)(10),c=(0,ce.KR)(null),d=(0,ce.KR)(null),p=(e,t)=>new Wt.A(e).isLessThanOrEqualTo(t),u=async e=>{s.value=!0;try{const t=await(0,Rt.t2)(o.value,e);n.value=t.pools,i.value=t.pageNo,r.value=t.limit,c.value=t.count}catch(t){Ea.v.error(t)}finally{s.value=!1}},m=async t=>{d.value={poolId:t.poolId,ticker:t.ticker,name:t.name,margin:Number(t.margin),pledge:new Wt.A(t.pledge),activePledge:new Wt.A(t.activePledge),retiredEpoch:Number(t.retiredEpoch)};const l={type:"DelegateTransaction",poolId:t.poolId},s=await(0,Ha.d9)(a.value,l);"ERROR"===s.status?De._g.openDialog({component:Te.A,props:{title:"Transaction Build Failed",description:e("maintainBalance"),alertType:Fe.vT.ERROR},size:De.sD.lg}):De._g.openDialog({component:Aa,title:e("confirmDelegationTitle"),size:De.sD["2xl"],props:{selectedPool:d.value,transaction:s.unsignedTx}})},v=e=>e?(0,Qa.round)(73*Number(e),2):0,g=(0,l.EW)((()=>a.value.stakeCredential)),x=(0,l.EW)((()=>{const e={};return n.value.forEach((t=>{e[t.poolId]=(0,ha.Ir)(t.poolId)})),e}));return u(1),{getNumeralizeAda:Tt.Bw,stakeCredential:g,encodedPoolIdMap:x,getPoolInterest:v,selectPool:m,isPledgeEnough:p,fetchPools:u,search:o,loading:s,pools:n,selectedPoolForDelegation:d,currentPageNo:i,limit:r,count:c,pageNo:i}}});const Ga=(0,Ne.A)(ja,[["render",Pt]]);var qa=Ga;const Va={class:"flex flex-wrap justify-center gap-x-5 gap-y-5"},Ua={key:0,class:"w-full h-64 flex justify-center items-center"},Ya=(0,l.Lk)("svg",{class:"animate-spin w-10 mx-auto py-px text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[(0,l.Lk)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),(0,l.Lk)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),Za=[Ya],Ja={class:"flex items-center"},el={class:"text-primary font-semibold"},tl={class:"ml-1.5 text-gray-700 dark:text-white"},al=["href"],ll={class:"bg-[#eff3fd] p-2 rounded-md dark:bg-[#282a2f]"},sl={class:"flex items-center text-xs text-gray-800 dark:text-gray-200 mb-1"},ol={class:"ml-2 ada text-gray-700 dark:text-gray-300"},nl={class:"w-full h-3 rounded-full"},il={class:"mt-5"},rl={class:"text-xs text-gray-800 dark:text-gray-200"},cl={class:"table-auto"},dl={class:"pl-4 ada dark:text-gray-300"},pl={class:"pl-4 ada dark:text-gray-300"},ul={class:"pl-4 ada dark:text-gray-300"},ml={class:"pl-4 dark:text-gray-300"},vl={class:"pl-4 dark:text-gray-300"},gl={class:"pt-2"},xl={class:"mt-5 flex justify-center"};function kl(e,t,a,o,n,i){const r=(0,l.g2)("AppProgressBar"),c=(0,l.g2)("AppButton"),d=(0,l.gN)("tippy");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",Va,[e.isLoading?((0,l.uX)(),(0,l.CE)("div",Ua,Za)):((0,l.uX)(!0),(0,l.CE)(l.FK,{key:1},(0,l.pI)(e.pools,((t,a)=>((0,l.uX)(),(0,l.CE)("div",{class:"w-72 break-all space-y-3 text-sm border border-gray-300 dark:border dark:border-gray-600 rounded-md p-4 text-900",key:a},[(0,l.Lk)("div",null,[(0,l.Lk)("div",Ja,[(0,l.Lk)("div",el,(0,s.v_)(t.name),1),(0,l.Lk)("span",tl,(0,s.v_)(t.ticker),1)]),(0,l.Lk)("a",{href:`${e.$env.explorer}pool/${t.poolId}`,target:"_blank",class:"text-gray-600 dark:text-gray-300 text-xs hover:text-blue-600 hover:cursor-pointer"},(0,s.v_)(e.encodePoolId(t.poolId)),9,al)]),(0,l.Lk)("div",ll,[(0,l.Lk)("div",null,[(0,l.Lk)("div",sl,[(0,l.Lk)("div",null,(0,s.v_)(e.$t("liveStake")),1),(0,l.Lk)("div",ol,(0,s.v_)(e.getNumeralizeAda(t.liveStake)),1)]),(0,l.Lk)("div",nl,[(0,l.bF)(r,{bgColor:"bg-gray-300 dark:bg-gray-700",progress:t.saturationLevel},null,8,["progress"])])]),(0,l.Lk)("div",il,[(0,l.Lk)("div",rl,[(0,l.Lk)("table",cl,[(0,l.Lk)("tbody",null,[(0,l.Lk)("tr",null,[(0,l.bo)(((0,l.uX)(),(0,l.CE)("td",null,[(0,l.eW)((0,s.v_)(e.$t("pledge")),1)])),[[d,{content:e.$t("stakePoolOwnersCommitToDelegate")}]]),(0,l.Lk)("td",dl,(0,s.v_)(e.getNumeralizeAda(t.pledge)),1)]),(0,l.Lk)("tr",null,[(0,l.bo)(((0,l.uX)(),(0,l.CE)("td",null,[(0,l.eW)(" Active Pledge ")])),[[d,{content:e.$t("stakePoolOwnersDelegatedToPool")}]]),(0,l.Lk)("td",pl,(0,s.v_)(e.getNumeralizeAda(t.activePledge)),1)]),(0,l.Lk)("tr",null,[(0,l.bo)(((0,l.uX)(),(0,l.CE)("td",null,[(0,l.eW)((0,s.v_)(e.$t("poolCost")),1)])),[[d,{content:e.$t("fixedFeeFromRewardsForOperationalCost")}]]),(0,l.Lk)("td",ul,(0,s.v_)(e.getNumeralizeAda(t.cost)),1)]),(0,l.Lk)("tr",null,[(0,l.bo)(((0,l.uX)(),(0,l.CE)("td",null,[(0,l.eW)((0,s.v_)(e.$t("margin")),1)])),[[d,{content:e.$t("percentageTakenFromStakePoolOperators")}]]),(0,l.Lk)("td",ml,(0,s.v_)(t.margin)+" %",1)]),(0,l.Lk)("tr",null,[(0,l.bo)(((0,l.uX)(),(0,l.CE)("td",null,[(0,l.eW)((0,s.v_)(e.$t("interest")),1)])),[[d,{content:e.$t("annualizedInterestOnEpochs")}]]),(0,l.Lk)("td",vl,(0,s.v_)(e.getPoolInterest(t.interest))+" % ",1)])])])])])]),(0,l.Lk)("div",gl,[(0,l.bF)(c,{class:"pt-2 btn btn-md btn-primary w-full uppercase",onClick:a=>e.selectPool(t),"is-loading":e.isBuildingTransactionOfPoolId===t.poolId},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.$t("select")),1)])),_:2},1032,["onClick","is-loading"])])])))),128))]),(0,l.Lk)("div",xl,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...t)=>e.openSearchPoolDialog&&e.openSearchPoolDialog(...t)),class:"text-sm text-primary hover:underline decoration-primary hover:underline-offset-4"}," Other pools ")])],64)}function fl(e,t,a,o,n,i){return(0,l.uX)(),(0,l.CE)("div",{class:(0,s.C4)([e.bgColor,"progressWrapper dark:bg-dark-1 w-full h-full shadow-inner overflow-hidden"])},[(0,l.Lk)("div",{style:(0,s.Tr)(`width: ${e.progressWidth}%`),class:(0,s.C4)(["progress h-full bg-gradient-to-r",[e.isGreen?"from-green-400 via-green-500 to-green-600":e.isYellow?"from-yellow-400 via-yellow-500 to-yellow-600":"from-red-400 via-red-500 to-red-600"]])},null,6)],2)}var bl=(0,l.pM)({name:"AppProgressBar",props:{progress:{type:[String,Number],required:!0},bgColor:{type:String,default:"bg-gray-100"}},setup(e){const t=new Wt.A(e.progress),a=t.gt(100)?100:t.toString(),l=t.lt(90),s=t.gte(90)&&t.lt(100),o=t.gte(100);return{progressWidth:a,isGreen:l,isYellow:s,isRed:o}}});const yl=(0,Ne.A)(bl,[["render",fl],["__scopeId","data-v-3e61989a"]]);var wl=yl,hl=(0,l.pM)({components:{AppProgressBar:wl,AppButton:Ka.A},setup(){const{t:e}=(0,We.s9)(),t=(0,Me.G)(),a=(0,ce.KR)(),s=(0,ce.KR)(null),o=(0,l.EW)((()=>t.activeAccount)),n=(0,ce.KR)(!1),i=(0,ce.KR)(null),r=()=>{De._g.openDialog({component:qa,title:e("searchPool"),size:De.sD["6xl"]})},c=async t=>{i.value=t.poolId,s.value={poolId:t.poolId,ticker:t.ticker,name:t.name,margin:Number(t.margin),pledge:new Wt.A(t.pledge),activePledge:new Wt.A(t.activePledge),retiredEpoch:Number(t.retiredEpoch)};const a={type:"DelegateTransaction",poolId:t.poolId},l=await(0,Ha.d9)(o.value,a);"ERROR"===l.status?De._g.openDialog({component:Te.A,props:{title:e("transactionBuildFailed"),description:e("maintainBalance"),alertType:Fe.vT.ERROR},size:De.sD.lg}):De._g.openDialog({component:Aa,title:e("confirmDelegationTitle"),size:De.sD["2xl"],props:{selectedPool:s.value,transaction:l.unsignedTx}}),i.value=null},d=e=>e?(0,Qa.round)(73*Number(e),2):0;return(0,l.sV)((async()=>{n.value=!0,a.value=await(0,Rt.Az)(),n.value=!1})),{pools:a,isLoading:n,isBuildingTransactionOfPoolId:i,encodePoolId:ha.Ir,openSearchPoolDialog:r,selectPool:c,getNumeralizeAda:Tt.Bw,getPoolInterest:d}}});const Ll=(0,Ne.A)(hl,[["render",kl]]);var Cl=Ll;const Al={class:"flex items-center space-x-2 bg-orange-400 p-2 rounded-md text-white"},El={class:"text-sm"},Il={class:"mt-3 flex items-center space-x-2 bg-orange-400 p-2 rounded-md text-white"},Pl={class:"text-sm"},_l={class:"mt-3 flex items-center space-x-2 bg-orange-400 p-2 rounded-md text-white"},$l={class:"text-sm"},Dl={class:"mt-10 flex space-x-5 justify-center"};function Fl(e,t,a,o,n,i){const r=(0,l.g2)("font-awesome-icon"),c=(0,l.g2)("AppButton");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("div",Al,[(0,l.bF)(r,{icon:"exclamation-triangle",class:"w-5 h-5 m-2 text-white"}),(0,l.Lk)("span",El,(0,s.v_)(e.$t("deregisterInfoMessage1")),1)]),(0,l.Lk)("div",Il,[(0,l.bF)(r,{icon:"exclamation-triangle",class:"w-5 h-5 m-2 text-white"}),(0,l.Lk)("span",Pl,(0,s.v_)(e.$t("deregisterInfoMessage2")),1)]),(0,l.Lk)("div",_l,[(0,l.bF)(r,{icon:"exclamation-triangle",class:"w-5 h-5 m-2 text-white"}),(0,l.Lk)("span",$l,(0,s.v_)(e.$t("deregisterInfoMessage3")),1)]),(0,l.Lk)("div",Dl,[(0,l.bF)(c,{isLoading:!1,disabled:e.isBuildingTransaction,class:"btn btn-md btn-primary-outline",onClick:e.close},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.$t("cancel")),1)])),_:1},8,["disabled","onClick"]),(0,l.bF)(c,{isLoading:e.isBuildingTransaction,disabled:e.isBuildingTransaction,class:"btn btn-md btn-primary",onClick:e.confirm},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.$t("continue")),1)])),_:1},8,["isLoading","disabled","onClick"])])])}const Tl={class:"space-y-3 text-sm"},Wl={class:"card2 py-2 px-3"},Rl={class:"text-xs font-semibold labelColor2"},Ml={class:"mt-1 text-sm font-medium labelColor3"},Sl={class:"card2 py-2 px-3"},Xl={class:"text-xs font-semibold labelColor2"},Nl={class:"mt-1 flex items-baseline space-x-2 labelColor3"},Bl={class:"card2 py-2 px-3"},zl={class:"text-xs font-semibold labelColor2"},Ol={class:"mt-1 flex items-baseline space-x-2 labelColor3"};function Kl(e,t,a,o,n,i){const r=(0,l.g2)("DecimalNumberVue"),c=(0,l.g2)("ada"),d=(0,l.g2)("confirm-transaction");return(0,l.uX)(),(0,l.CE)("div",Tl,[(0,l.Lk)("div",Wl,[(0,l.Lk)("div",Rl,(0,s.v_)(e.$t("stakeKey")),1),(0,l.Lk)("div",Ml,(0,s.v_)(e.$filters.encodeStakeKey(e.transaction.certificates[0].stakeCredential.hash,0)),1)]),(0,l.Lk)("div",Sl,[(0,l.Lk)("div",Xl,(0,s.v_)(e.$t("fee")),1),(0,l.Lk)("div",Nl,[(0,l.bF)(r,{value:e.$filters.formatADA(e.transaction.getFee()),integralClasses:"text-lg font-semibold"},null,8,["value"]),(0,l.bF)(c,{class:"h-3 w-3"})])]),(0,l.Lk)("div",Bl,[(0,l.Lk)("div",zl,(0,s.v_)(e.$t("depositRefund")),1),(0,l.Lk)("div",Ol,[(0,l.bF)(r,{value:e.$filters.formatADA(e.transaction.getAdditionalInputAda()),integralClasses:"text-lg font-semibold"},null,8,["value"]),(0,l.bF)(c,{class:"h-3 w-3"})])]),(0,l.bF)(d,{transaction:e.transaction,onFailure:e.onFailure,onSuccess:e.onSuccess,callback:()=>{}},null,8,["transaction","onFailure","onSuccess"])])}var Ql=(0,l.pM)({components:{ConfirmTransaction:$e.A,DecimalNumberVue:pe.A},props:{transaction:{type:Se.Transaction,required:!0}},setup(){const{t:e}=(0,We.s9)(),t=()=>{De._g.openDialog({component:Te.A,props:{title:e("trxSubmitted"),description:`${e("deregisterTrxSubmitted")}`,alertType:Fe.vT.INFO},size:De.sD.lg})},a=()=>{De._g.openDialog({component:Te.A,props:{title:e("failedToSubmitTrx"),description:e("somethingWentWrong"),alertType:Fe.vT.ERROR},size:De.sD.lg})};return{onFailure:a,onSuccess:t}}});const Hl=(0,Ne.A)(Ql,[["render",Kl]]);var jl=Hl,Gl=(0,l.pM)({components:{AppButton:Ka.A},data(){return{}},setup(){const{t:e}=(0,We.s9)(),t=(0,ce.KR)(!1),a=(0,Me.G)(),s=(0,l.EW)((()=>a.activeAccount));function o(){De._g.closeDialog()}async function n(){try{t.value=!0;const a=await(0,Ha.d9)(s.value,{type:"UndelegateTransaction"});if("ERROR"===a.status)throw new Error("Tx build failed");De._g.openDialog({component:jl,title:e("confirmDeRegistration"),size:De.sD["2xl"],props:{transaction:a.unsignedTx}})}catch(a){De._g.openDialog({component:Te.A,props:{title:e("somethingWentWrong"),description:`${e("insufficientBalanceForTrx")}<br />${a.message}`,alertType:Fe.vT.ERROR},size:De.sD.lg})}finally{t.value=!1}}return{close:o,confirm:n,isBuildingTransaction:t}}});const ql=(0,Ne.A)(Gl,[["render",Fl]]);var Vl=ql,Ul=a(30407),Yl=(0,l.pM)({name:"delegationInfo",components:{AppClipboard:de.A,AppButton:Ka.A,SortDescendingIcon:ue.A,DecimalNumber:pe.A},setup(){const e=(0,Me.G)(),t=(0,l.EW)((()=>e.activeAccount)),{t:a}=(0,We.s9)(),s=(0,ce.KR)(!1),o=(0,l.EW)((()=>i.value?new Wt.A("0"):t.value.stakingInfo.rewardsAvailable)),n=(0,l.EW)((()=>o.value.isGreaterThan(0))),i=(0,l.EW)((()=>{const e=t.value.pendingOperations,a=e.find((e=>e.withdrawals.length>0));return a})),r=(0,l.EW)((()=>t.value.pendingOperations.length>0)),c=(0,ce.KR)(!1),d=(0,l.EW)((()=>(0,ha.mj)(t.value.stakeCredential.hash,Se.types.HashType.ADDRESS))),p=(0,l.EW)((()=>t.value.stakingInfo.rewardsAvailable.plus(t.value.stakingInfo.stake)));async function u(){try{c.value=!0;const e={type:"RewardWithdrawTransaction"},l=await(0,Ha.d9)(t.value,e);De._g.openDialog({component:ze,title:a("confirmWithdrawalModalTitle"),size:De.sD["2xl"],props:{transaction:"OK"===l.status?l.unsignedTx:void 0}})}catch(e){De._g.openDialog({component:Te.A,props:{title:a("somethingWentWrong"),description:e.message,alertType:Fe.vT.ERROR},size:De.sD.lg}),Ea.v.error(e)}finally{c.value=!1}}const m=()=>t.value.balance.plus(t.value.blockedBalance).minus(t.value.stakingInfo.stake),v=async()=>{s.value=!0;const e={type:"EnterpriseToShelleyTx"};try{const l=await(0,Ha.d9)(t.value,e);if("ERROR"===l.status)throw new Error("Tx build failed");De._g.openDialog({component:Ul.A,title:a("transactionConfirmModalTitle"),size:De.sD["2xl"],props:{transaction:l.unsignedTx}})}catch(l){De._g.openDialog({component:Te.A,props:{title:a("somethingWentWrong"),description:`${a("insufficientBalanceForTrx")}<br />${l.message}`,alertType:Fe.vT.ERROR},size:De.sD.lg})}s.value=!1},g=()=>{De._g.openDialog({component:Vl,title:a("deRegisterStakeKey"),size:De.sD["2xl"]})},x=()=>{I.A.value.NETWORK===Se.types.NetworkId.TESTNET?k():f()};function k(){De._g.openDialog({component:qa,title:a("searchPool"),size:De.sD["6xl"]})}const f=()=>{De._g.openDialog({component:Cl,title:a("typhonPools"),size:De.sD["2xl"]})},b=(0,l.EW)((()=>c.value||!n.value||t.value.balance.isZero())),y=(0,l.EW)((()=>n.value?t.value.balance.isZero()?a("maintainBalanceToWithdrawRewards"):a("withdrawRewards"):a("noRewards")));return{activeAccount:t,totalStakeForDelegationAccount:p,encodedStakingKey:d,isTransactionPending:r,isRewardsAvailable:n,isBuildingWithdrawalTransaction:c,isTransactionLoading:s,rewardsAvailable:o,disableWithdrawRewardsButton:b,onHoverMessageForWithdrawRewardsButton:y,openConfirmWithdrawalModal:u,openPoolsDialog:x,getUnstakedAmount:m,deregister:g,stakeUnstakedAmount:v}}});const Zl=(0,Ne.A)(Yl,[["render",re]]);var Jl=Zl;const es={class:"card2 px-4 py-3"},ts={key:1,class:"space-y-5"},as={class:"labelColor3 font-medium capitalize"},ls={key:0,class:"text-sm"},ss={class:"mt-1 labelColor2 text-sm break-all"},os=["href"],ns=["href"],is={class:"space-y-1 text-sm labelColor3"},rs={class:"inline-flex"},cs={class:"flex items-baseline space-x-2"},ds={class:"ml-3 labelColor4"},ps={class:"w-64 h-4 rounded-full"},us={class:"flex flex-wrap text-gray-700 divide-gray-200 gap-3"},ms={class:"card3 w-full sm:w-1/2 md:w-1/2 px-5 py-3"},vs={class:"text-xs flex items-center"},gs={class:"labelColor3"},xs={class:"mt-1 flex items-center"},ks={class:"text-xl percent-symbol font-semibold dark:text-gray-300"},fs={class:"card3 w-full sm:w-1/2 md:w-1/2 flex-1 px-5 py-3"},bs={class:"text-xs flex items-center"},ys={class:"labelColor3"},ws=(0,l.Lk)("span",{class:"labelColor3 text-xs"},"(30d)",-1),hs={class:"mt-1 text-xl dark:text-gray-300 font-semibold"},Ls=(0,l.Lk)("span",{class:"percent-symbol"},null,-1),Cs={class:"card3 w-full px-5 py-3"},As={class:"text-xs flex items-center"},Es={class:"labelColor3"},Is={class:"dark:text-gray-300 mt-1 flex items-center"},Ps={class:"card3 w-full px-5 py-3"},_s={class:"text-xs flex items-center"},$s={class:"labelColor3"},Ds={class:"mt-1 dark:text-gray-300 flex items-center"},Fs={class:"card3 w-full px-5 py-3"},Ts={class:"text-xs flex items-center"},Ws={class:"labelColor3"},Rs={class:"mt-1 dark:text-gray-300 flex items-center"};function Ms(e,t,a,o,n,i){const r=(0,l.g2)("PoolInfoSkeleton"),c=(0,l.g2)("AppClipboard"),d=(0,l.g2)("ada"),p=(0,l.g2)("AppProgressBar"),u=(0,l.g2)("font-awesome-icon"),m=(0,l.g2)("decimal-number"),v=(0,l.gN)("tippy");return(0,l.uX)(),(0,l.CE)("div",es,[e.walletStore.isAccountFgSyncing?((0,l.uX)(),(0,l.Wv)(r,{key:0})):((0,l.uX)(),(0,l.CE)("div",ts,[(0,l.Lk)("div",null,[(0,l.Lk)("div",as,[(0,l.eW)((0,s.v_)(e.poolInfo.name)+" ",1),e.poolInfo.ticker?((0,l.uX)(),(0,l.CE)("span",ls,"("+(0,s.v_)(e.poolInfo.ticker)+")",1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",ss,[(0,l.Lk)("a",{href:`${e.$env.explorer}pool/${e.poolInfo.poolId}`,target:"_blank",class:"hover:text-primary dark:hover:text-primary"},(0,s.v_)(e.encodedPoolId),9,os),(0,l.bF)(c,{content:e.encodedPoolId},null,8,["content"])]),(0,l.Lk)("a",{href:`${e.poolInfo.website}`,target:"_blank",class:"text-sm text-primary hover:text-blue-600"},(0,s.v_)(e.poolInfo.website),9,ns)]),(0,l.Lk)("div",is,[(0,l.Lk)("div",rs,[(0,l.Lk)("div",null,(0,s.v_)(e.$t("liveStake")),1),(0,l.Lk)("div",cs,[(0,l.Lk)("span",ds,(0,s.v_)(e.$filters.formatADA(e.poolInfo.liveStake??"0")),1),(0,l.bF)(d,{class:"h-2.5 w-2.5"})])]),(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",ps,[(0,l.bF)(p,{progress:e.poolInfo.saturationLevel??0},null,8,["progress"])])),[[v,{content:`${e.$t("saturationLevel")} - ${e.poolInfo.saturationLevel}%`}]])]),(0,l.Lk)("div",us,[(0,l.Lk)("div",ms,[(0,l.Lk)("div",vs,[(0,l.Lk)("span",gs,(0,s.v_)(e.$t("margin")),1),(0,l.bo)((0,l.bF)(u,{icon:"info-circle",class:"text-primary text-xs ml-1","aria-hidden":"true"},null,512),[[v,{content:e.$t("marginDescription")}]])]),(0,l.Lk)("div",xs,[(0,l.Lk)("div",ks,(0,s.v_)((100*e.poolInfo.margin).toFixed(2)),1),e.futureParams.margin?(0,l.bo)(((0,l.uX)(),(0,l.Wv)(u,{key:0,icon:"info-circle",class:"text-yellow-500 text-md ml-1","aria-hidden":"true"},null,512)),[[v,{content:e.$t("marginUpdateMessage",{newMargin:e.futureParams.margin})}]]):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",fs,[(0,l.Lk)("div",bs,[(0,l.Lk)("span",ys,(0,s.v_)(e.$t("interest")),1),ws,(0,l.bo)((0,l.bF)(u,{icon:"info-circle",class:"text-primary text-xs ml-1","aria-hidden":"true"},null,512),[[v,{content:e.$t("interestDescription")}]])]),(0,l.Lk)("div",hs,[(0,l.eW)((0,s.v_)(e.poolInterest),1),Ls])]),(0,l.Lk)("div",Cs,[(0,l.Lk)("div",As,[(0,l.Lk)("span",Es,(0,s.v_)(e.$t("pledge")),1),(0,l.bo)((0,l.bF)(u,{icon:"info-circle",class:"text-primary text-xs ml-1","aria-hidden":"true"},null,512),[[v,{content:e.$t("pledgeDescription")}]])]),(0,l.Lk)("div",Is,[(0,l.bF)(m,{value:e.$filters.formatADA(e.poolInfo.pledge??"0"),integralClasses:"text-xl font-semibold",fractionalClasses:"text-sm"},null,8,["value"]),(0,l.bF)(d,{class:"h-3.5 w-3.5 ml-2"}),e.futureParams.pledge?(0,l.bo)(((0,l.uX)(),(0,l.Wv)(u,{key:0,icon:"info-circle",class:"text-yellow-500 text-md ml-1","aria-hidden":"true"},null,512)),[[v,{content:e.$t("pledgeUpdateMessage",{newPledge:e.$filters.formatADA(e.futureParams.pledge)})}]]):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",Ps,[(0,l.Lk)("div",_s,[(0,l.Lk)("span",$s,(0,s.v_)(e.$t("activePledge")),1),(0,l.bo)((0,l.bF)(u,{icon:"info-circle",class:"text-primary text-xs ml-1","aria-hidden":"true"},null,512),[[v,{content:e.$t("activePledgeDescription")}]])]),(0,l.Lk)("div",Ds,[(0,l.bF)(m,{value:e.$filters.formatADA(e.poolInfo.activePledge??"0"),integralClasses:"text-xl font-semibold",fractionalClasses:"text-sm"},null,8,["value"]),(0,l.bF)(d,{class:"h-3.5 w-3.5 ml-2"})])]),(0,l.Lk)("div",Fs,[(0,l.Lk)("div",Ts,[(0,l.Lk)("span",Ws,(0,s.v_)(e.$t("cost")),1),(0,l.bo)((0,l.bF)(u,{icon:"info-circle",class:"text-primary text-xs ml-1","aria-hidden":"true"},null,512),[[v,{content:e.$t("costDescription")}]])]),(0,l.Lk)("div",Rs,[(0,l.bF)(m,{value:e.$filters.formatADA(e.poolInfo.cost??"0"),integralClasses:"text-xl font-semibold",fractionalClasses:"text-sm"},null,8,["value"]),(0,l.bF)(d,{class:"h-3.5 w-3.5 ml-2"}),e.futureParams.cost?(0,l.bo)(((0,l.uX)(),(0,l.Wv)(u,{key:0,icon:"info-circle",class:"text-yellow-500 text-md ml-1","aria-hidden":"true"},null,512)),[[v,{content:e.$t("costUpdateMessage",{newCost:e.$filters.formatADA(e.futureParams.cost)})}]]):(0,l.Q3)("",!0)])])])]))])}const Ss={class:"space-y-5"},Xs=(0,l.Lk)("div",null,[(0,l.Lk)("div",{class:"text-lg font-medium capitalize"},[(0,l.Lk)("span",{class:"skeleton"},"typhon pool")]),(0,l.Lk)("div",{class:"text-sm break-all skeleton"}," poolId324567865467876755878tftr657r8ty8767 "),(0,l.Lk)("span",{class:"skeleton"},"typhon.io")],-1),Ns={class:"space-y-1 text-sm"},Bs={class:"inline-flex"},zs=(0,l.Lk)("div",{class:"skeleton"},"live stake",-1),Os={class:"skeleton ml-3"},Ks=(0,l.Lk)("span",{class:"ml-1"},"a",-1),Qs={class:"w-64 h-4 rounded-full skeleton"},Hs=(0,l.Fv)('<div><div class="space-y-5"><div class="flex flex-wrap text-gray-700 divide-gray-200 gap-3"><div class="border rounded-md shadow w-full sm:w-1/2 md:w-1/2 px-5 py-3 skeleton"><div class="text-sm flex items-center"><span>margin</span></div><div class="text-xl percent-symbol font-semibold">0.0</div></div><div class="border rounded-md shadow w-full sm:w-1/2 md:w-1/2 flex-1 px-5 py-3 skeleton"><div class="text-sm flex items-center"><span>interest</span><span class="text-xs">(30d)</span></div><div class="text-xl font-semibold"> 10<span class="percent-symbol"></span></div></div><div class="border rounded-md shadow w-full px-5 py-3 skeleton"><div class="text-sm flex items-center"><span>pledge</span></div><div class="flex"><span class="text-xl">0</span><span class="text-sm">000000</span><span class="ml-2">a</span></div></div><div class="border rounded-md shadow w-full px-5 py-3 skeleton"><div class="text-sm flex items-center"><span>activePledge</span></div><div class="flex"><span class="text-xl">0</span><span class="text-sm">000000</span><span class="ml-2">a</span></div></div><div class="border rounded-md shadow w-full px-5 py-3 skeleton"><div class="text-sm flex items-center"><span>cost</span></div><div class="flex"><span class="text-xl">0</span><span class="text-sm">000000</span><span class="ml-2">a</span></div></div></div></div></div>',1);function js(e,t,a,o,n,i){const r=(0,l.g2)("AppProgressBar");return(0,l.uX)(),(0,l.CE)("div",Ss,[Xs,(0,l.Lk)("div",Ns,[(0,l.Lk)("div",Bs,[zs,(0,l.Lk)("div",Os,[(0,l.eW)((0,s.v_)(e.$filters.formatADA(0)),1),Ks])]),(0,l.Lk)("div",Qs,[(0,l.bF)(r,{progress:"0"})])]),Hs])}var Gs=(0,l.pM)({components:{AppProgressBar:wl}});const qs=(0,Ne.A)(Gs,[["render",js]]);var Vs=qs,Us=(0,l.pM)({name:"poolInfo",components:{AppClipboard:de.A,AppProgressBar:wl,PoolInfoSkeleton:Vs,DecimalNumber:pe.A},props:{poolInfo:{type:Object,required:!0}},setup(e){const t=(0,ce.KR)({}),a=(0,Me.G)(),l=(0,ha.Ir)(e.poolInfo.poolId),s=(0,Qa.round)(73*Number(e.poolInfo.interest),2);return t.value.margin=e.poolInfo.futurePoolParams.margin?.toString(),t.value.cost=e.poolInfo.futurePoolParams.cost?.toString(),t.value.pledge=e.poolInfo.futurePoolParams.pledge?.toString(),{walletStore:a,encodedPoolId:l,futureParams:t,poolInterest:s}}});const Ys=(0,Ne.A)(Us,[["render",Ms]]);var Zs=Ys;function Js(e,t,a,s,o,n){const i=(0,l.g2)("Bar");return e.chartDataIsLoaded?((0,l.uX)(),(0,l.Wv)(i,{key:0,id:"my-chart-id",options:e.chartOption,data:e.chartData},null,8,["options","data"])):(0,l.Q3)("",!0)}a(44114);var eo=a(44527),to=a(24550),ao=a(22022);function lo(e){const t=Math.min(...e)-Math.min(...e)/2;return t>=0?t:0}function so(e){const t=Math.max(...e)+Math.min(...e)/2;return t<=0?1:t}ao.t1.register(ao.hE,ao.m_,ao.s$,ao.E8,ao.PP,ao.kc);var oo=(0,l.pM)({components:{Bar:eo.yP},props:{epochRewardMap:{type:Object,required:!0}},setup(e){const t=(0,ce.KR)({}),a=(0,ce.KR)({}),s=(0,ce.KR)({epoch:[],reward:[]}),o=(0,ce.KR)(!1);function n(){const t=(0,to.C)();let a=10;while(a>0){const l=t.currentEpoch-a;let o=e.epochRewardMap.get(l)?.rewards;o=o?(0,Tt.NM)(o):new Wt.A(0),s.value.epoch.push(l),s.value.reward.push(new Wt.A(o).toString()),a-=1}}function i(){const e={scaleLabelFontSize:16,epoch:{id:"epoch",label:"Epoch",color:"black",data:s.value.epoch},reward:{id:"reward",label:"Rewards",darkColor:"rgba(33, 174, 65, 0.9)",lightColor:"rgba(33, 174, 65, 0.5)",data:s.value.reward,minValue:lo(s.value.reward),maxValue:so(s.value.reward)}};t.value={labels:"",datasets:[{fill:!1,label:"Rewards",borderColor:e.reward.darkColor,backgroundColor:e.reward.lightColor,data:e.reward.data,borderRadius:2,borderWidth:2,barThickness:20}]},a.value={plugins:{legend:{display:!1},tooltip:{mode:"x",displayColors:!1,intersect:!0,titleFont:{size:11,weight:"normal"},bodyFont:{size:11,weight:"normal"},bodySpacing:10,xPadding:12,yPadding:12,titleMarginBottom:12,backgroundColor:"rgba(128, 128, 128, 0.85)",callbacks:{title:function(e){return"Epoch: "+e[0].label}}}},maintainAspectRatio:!1,responsive:!0,animation:!0,title:{display:!1},hover:{mode:"x",intersect:!0},scales:{xAxes:{position:"bottom",id:e.epoch.id,display:!0,title:{display:!0,text:"Epoch"},labels:s.value.epoch,gridLines:{color:"rgba(128, 128, 128, 0.1)",display:!1}}}},o.value=!0}const r=(0,l.EW)((()=>a.value));return(0,l.sV)((()=>{n(),i()})),{chartData:t,chartOption:r,chartDataIsLoaded:o}}});const no=(0,Ne.A)(oo,[["render",Js]]);var io=no;const ro={class:"flex flex-col w-full divide-y border border-primary-7 divide-primary-7 dark:divide-dark-3 rounded-lg overflow-hidden dark:border-none"},co={class:"flex bg-primary-6 dark:bg-dark-2 w-full labelColor3"},po={class:"py-2 font-medium text-sm w-1/3 text-center"},uo={class:"py-2 font-medium text-sm w-1/3 text-center"},mo={class:"py-2 font-medium text-sm w-1/3 text-center"},vo={class:"w-1/3 font-medium text-center labelColor2"},go={class:"w-1/3 text-center"},xo={class:"flex items-center justify-center"},ko={key:0,class:"labelColor2 flex justify-center items-center"},fo={key:1,class:"labelColor2 self-center"},bo={class:"w-1/3 font-medium text-center labelColor2 truncate"},yo={key:0,class:"flex justify-center items-center"},wo=["href"],ho={key:1,class:"self-center"};function Lo(e,t,a,o,n,i){const r=(0,l.g2)("decimal-number"),c=(0,l.g2)("ada"),d=(0,l.g2)("md-icon"),p=(0,l.gN)("tippy");return(0,l.uX)(),(0,l.CE)("div",ro,[(0,l.Lk)("div",co,[(0,l.Lk)("div",po,(0,s.v_)(e.$t("epoch")),1),(0,l.Lk)("div",uo,(0,s.v_)(e.$t("rewardsPaid")),1),(0,l.Lk)("div",mo,(0,s.v_)(e.$t("pool")),1)]),((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)(10,(t=>(0,l.Lk)("div",{class:(0,s.C4)(["text-xs flex py-2 items-center leading-5",1==t?"bg-yellow-100 dark:bg-dark-2 border-t-2 italic":"bg-primary-3 dark:bg-dark-2"]),key:t,"aria-hidden":"true"},[(0,l.Lk)("div",vo,(0,s.v_)(e.currentEpoch-t),1),(0,l.Lk)("div",go,[(0,l.Lk)("div",xo,[e.epochRewardMap.get(e.currentEpoch-t)?((0,l.uX)(),(0,l.CE)("div",ko,[(0,l.bF)(r,{value:e.$filters.formatADA(e.epochRewardMap.get(e.currentEpoch-t).rewards),integralClasses:"text-lg font-semibold",fractionalClasses:"text-sm"},null,8,["value"]),(0,l.bF)(c,{class:"h-3 w-3 ml-2"})])):((0,l.uX)(),(0,l.CE)("span",fo,"N/A")),1===t?(0,l.bo)(((0,l.uX)(),(0,l.Wv)(d,{key:2,icon:e.infoIcon,size:22,class:"text-primary ml-2"},null,8,["icon"])),[[p,{content:e.$t("rewardsWillBePaid")}]]):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",bo,[e.epochRewardMap.get(e.currentEpoch-t)?(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",yo,[(0,l.Lk)("a",{href:`${e.$env.explorer}pool/${e.epochRewardMap.get(e.currentEpoch-t).poolId}`,target:"_blank"},(0,s.v_)(e.epochRewardMap.get(e.currentEpoch-t).poolTicker?e.epochRewardMap.get(e.currentEpoch-t).poolTicker:"N/A"),9,wo)])),[[p,{content:e.epochRewardMap.get(e.currentEpoch-t).poolName?e.epochRewardMap.get(e.currentEpoch-t).poolName:e.epochRewardMap.get(e.currentEpoch-t).poolId}]]):((0,l.uX)(),(0,l.CE)("span",ho,"N/A"))])],2))),64))])}var Co=a(9165),Ao=(0,l.pM)({components:{DecimalNumber:pe.A},props:{epochRewardMap:{type:Object,required:!0}},data:()=>({infoIcon:Co.Rjk}),setup(){const e=(0,to.C)(),t=e.currentEpoch;return{currentEpoch:t}}});const Eo=(0,Ne.A)(Ao,[["render",Lo]]);var Io=Eo;const Po={class:"flex justify-center w-full card"},_o={class:"px-10 py-6 max-w-xl rounded-md text-center"},$o={class:"labelColor3"},Do=(0,l.Lk)("br",null,null,-1),Fo=(0,l.Lk)("div",{class:"pt-4"},[(0,l.Lk)("svg",{class:"animate-spin w-6 mx-auto py-px text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[(0,l.Lk)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),(0,l.Lk)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})])],-1);function To(e,t){return(0,l.uX)(),(0,l.CE)("div",Po,[(0,l.Lk)("div",_o,[(0,l.Lk)("span",$o,[(0,l.eW)((0,s.v_)(e.$t("delegationTrxPending")),1),Do,(0,l.eW)((0,s.v_)(e.$t("waitForPendingDelegationTrx")),1)]),Fo])])}const Wo={},Ro=(0,Ne.A)(Wo,[["render",To]]);var Mo=Ro;const So={class:"flex justify-center w-full card"},Xo={class:"px-10 py-6 max-w-xl rounded-md text-center"},No={class:"labelColor3"},Bo=(0,l.Lk)("br",null,null,-1),zo=(0,l.Lk)("div",{class:"pt-4"},[(0,l.Lk)("svg",{class:"animate-spin w-6 mx-auto py-px text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[(0,l.Lk)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),(0,l.Lk)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})])],-1);function Oo(e,t){return(0,l.uX)(),(0,l.CE)("div",So,[(0,l.Lk)("div",Xo,[(0,l.Lk)("span",No,[(0,l.eW)((0,s.v_)(e.$t("deregisterTrxPending")),1),Bo,(0,l.eW)((0,s.v_)(e.$t("waitForPendingDelegationTrx")),1)]),zo])])}const Ko={},Qo=(0,Ne.A)(Ko,[["render",Oo]]);var Ho=Qo,jo=(0,l.pM)({components:{DelegationInfo:Jl,PoolInfo:Zs,RewardsHistoryTable:Io,EpochHistoryGraph:io,PendingDelegationMessage:Mo,PendingDeregistrationMessage:Ho},props:{openSearchPoolOnInit:{type:String,default:"false",required:!1}},setup(e){const{t:t}=(0,We.s9)(),a=(0,Me.G)(),s=(0,to.C)(),o=(0,l.EW)((()=>a.activeAccount));(0,l.sV)((()=>{"true"===e.openSearchPoolOnInit&&!i.value.length&&u.value&&f()}));const n=new Wt.A("5000000"),i=(0,l.EW)((()=>o.value.pendingOperations)),r=(0,l.EW)((()=>o.value?.poolInfo)),c=(0,l.EW)((()=>!a.isAccountSyncing)),d=(0,l.EW)((()=>a.isAccountBgSyncing)),p=(0,l.EW)((()=>o.value.rewardHistory.reduce(((e,t)=>(e.set(t.epoch,{rewards:t.rewards,poolId:t.poolInfo.poolId,poolName:t.poolInfo.name,poolTicker:t.poolInfo.ticker}),e)),new Map))),u=(0,l.EW)((()=>o.value.balance.gte(n))),m=(0,l.EW)((()=>!!r.value&&r.value.pledge.isGreaterThan(r.value.activePledge))),v=(0,l.EW)((()=>!(!r.value||!r.value.retiredEpoch)&&s.currentEpoch>(0,Qa.toNumber)(r.value.retiredEpoch))),g=(0,l.EW)((()=>!(!r.value||!r.value.retiredEpoch)&&s.currentEpoch<=(0,Qa.toNumber)(r.value.retiredEpoch))),x=(0,l.EW)((()=>{const e=o.value.pendingOperations,t=e.find((e=>e.types.includes("DELEGATE")));return t})),k=(0,l.EW)((()=>{const e=o.value.pendingOperations,t=e.find((e=>e.types.includes("UNDELEGATE")));return t})),f=()=>{I.A.value.NETWORK===Se.types.NetworkId.TESTNET?b():y()},b=()=>{De._g.openDialog({component:qa,title:t("searchPool"),size:De.sD["6xl"]})},y=()=>{De._g.openDialog({component:Cl,title:t("typhonPools"),size:De.sD["2xl"]})};return{minRequiredBalanceForDelegationTrx:n,activeAccount:o,pendingDeregistration:k,pendingDelegation:x,isPledgeNotMet:m,isPoolExpiring:v,isPoolExpired:g,isHavingEnoughBalanceForNewDelegation:u,epochRewardMap:p,isCredentialSynced:c,isBackgroundSyncing:d,poolDetails:r,pendingTransactions:i,openSearchPoolDialog:b,openTyphonDialog:y,openPoolsDialog:f}}});const Go=(0,Ne.A)(jo,[["render",E]]);var qo=Go}}]);