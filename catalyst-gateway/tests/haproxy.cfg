global
    maxconn 256
    stats socket /var/run/haproxy/haproxy.sock mode 660 level admin expose-fd listeners

defaults
    mode tcp
    timeout connect 5s
    timeout client 30s
    timeout server 30s

# Proxy to event-db:5432
frontend proxy_event_db
    bind *:18080
    default_backend event_db

backend event_db
    server pg1 event-db:5432 check

# Proxy to scylla-node:9042
frontend proxy_scylla_node
    bind *:18090
    default_backend scylla_node

backend scylla_node
    server scylla1 scylla-node:9042 check
